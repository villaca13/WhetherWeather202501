---
layout: mainLayout.njk
---
<script>
    document.addEventListener("DOMContentLoaded", () => {    

        // create city checkboxes in the settings page
        createCheckboxes (cities, "citiesCheckboxes")
        cities.forEach((city) => {
            const isChecked = localStorage.getItem(city) === "true" ? true : false
            updateCheckbox (city, isChecked) 

            })

        // create preferences checkboxes in the settings page
        createCheckboxes (preferences, "preferencesCheckboxes")
        preferences.forEach((item) => {
            const isChecked = localStorage.getItem(item) === "true" ? true : false
            updateCheckbox (item, isChecked) 

        })

    })

    // * This is used to save the state of the checkboxes in local storage.
    // * When the page is loaded, it will check the local storage and set the checkbox state accordingly.
    document.addEventListener("DOMContentLoaded", () => { 
        var checkBoxItems = document.querySelectorAll("input[class='CheckboxItem']")
        //console.log(citiesCheckBox)

        checkBoxItems.forEach((item) => {
            item.addEventListener('change', function() {
                if (this.checked) {                    
                    localStorage.setItem(this.id, true)
                } else {
                    localStorage.setItem(this.id, false)
                }
            })
        })
    })

    </script>

<main id="preferences" class="columns is-multiline box has-background-info is-centered">
    <div class="column is-12 has-text-centered has-text-white">
        <h1 class="title">User Settings</h1>
    </div>


    <div id="citiesCheckboxes" class="column is-2 checkboxes is-multiline box has-background-black">
        <h2 class="subtitle has-text-centered is-4">Cities</h2>
    </div>

    <div id="preferencesCheckboxes" class="column is-2 is-offset-2 checkboxes is-multiline box has-background-black">
        <h2 class="subtitle has-text-centered is-4">Preferences</h2>
    </div>

</main>



