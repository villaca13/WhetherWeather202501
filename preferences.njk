---
layout: mainLayout.njk
---
<script>
    document.addEventListener("DOMContentLoaded", () => {    

        createCheckboxes (cities)
        cities.forEach((city) => {
            if(localStorage.getItem(city) === null) {
                localStorage.setItem(city, true)
                updateCheckbox (city, true) 

            } else {
                const isChecked = localStorage.getItem(city) === "true" ? true : false
                updateCheckbox (city, isChecked)                 
            }
        })
    })

    // * This is used to save the state of the checkboxes in local storage.
    // * When the page is loaded, it will check the local storage and set the checkbox state accordingly.
    document.addEventListener("DOMContentLoaded", () => { 
        var citiesCheckBox = document.querySelectorAll("input[class='cityCheckbox']")
        //console.log(citiesCheckBox)

        citiesCheckBox.forEach((checkbox) => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {                    
                    localStorage.setItem(this.id, true)
                } else {
                    localStorage.setItem(this.id, false)
                }
            })
        })
    })
    </script>

<main id="preferences" class="columns is-multiline box has-background-info is-centered">
    <div class="column is-12 has-text-centered has-text-white">
        <h1 class="title">User Settings</h1>
    </div>


    <div id="citiesCheckboxes" class="column is-2 checkboxes is-multiline box has-background-black">
        <h2 class="subtitle has-text-centered is-4">Cities</h2>
    </div>

    <div class="column is-2 is-offset-2 checkboxes is-multiline box has-background-black">
        <h2 class="subtitle has-text-centered is-4">Preferences</h2>
        <label class="checkbox column">
            <input type="checkbox" />
            Monday
        </label>

        <label class="checkbox column">
            <input type="checkbox" />
            Tuesday
        </label>

        <label class="checkbox column">
            <input type="checkbox" />
            Wednesday
        </label>

        <label class="checkbox column">
            <input type="checkbox" />
            Thursday
        </label>

        <label class="checkbox column">
            <input type="checkbox" />
            Friday
        </label>

        <label class="checkbox column">
            <input type="checkbox" checked />
            Saturday
        </label>

        <label class="checkbox column">
            <input type="checkbox" checked />
            Sunday
        </label>
    </div>



</main>



